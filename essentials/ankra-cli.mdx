
# Ankra CLI – Installation & Usage Guide

## What is Ankra CLI?

Ankra CLI is a secure, robust, and user-friendly command-line interface for managing clusters and addons on the Ankra platform. It enables you to interact with Ankra services directly from your terminal, making it easy to automate platform operations, manage clusters, and deploy addons.

**Main use cases:**
- Cluster management (create, select, delete, etc.)
- Addon deployment (e.g., `fluent-bit`, `cert-manager`)
- Automation of platform operations

---

## Features

- **Easy cluster selection and management**
- **Addon deployment** (e.g., `fluent-bit`, `cert-manager`)
- **Secure authentication** via API token
- **Global and user-local installation support**
- **Clear versioning and help commands**

---

## Installation

You can install Ankra CLI globally (system-wide) or locally (user-only, no sudo required).

### Global Install (requires sudo)

```sh
sudo curl -L https://cli.ankra.io/install.sh | bash
```

### User-Local Install (no sudo, adds to `~/bin`)

```sh
curl -L https://cli.ankra.io/install.sh | bash -s -- --user
```

> **Note:** After installation, verify the CLI is available:

```sh
ankra --version
```

If you see the version number, installation was successful.

---

## Post-Installation Setup

Before using the CLI, set the required environment variables:

| Variable           | Required | Description                                      |
|--------------------|----------|--------------------------------------------------|
| ANKRA_API_TOKEN    | Yes      | Your Ankra API token (get from Ankra dashboard)   |
| ANKRA_BASE_URL     | No       | API base URL (defaults to `https://platform.ankra.app`) |

### Export for Current Session

```sh
export ANKRA_API_TOKEN="<your-token>"
export ANKRA_BASE_URL="https://platform.ankra.app" # optional
```

### Add to Shell Profile (recommended)

Add the above lines to your `~/.zshrc` or `~/.bashrc`:

```sh
echo 'export ANKRA_API_TOKEN="<your-token>"' >> ~/.zshrc
echo 'export ANKRA_BASE_URL="https://platform.ankra.app"' >> ~/.zshrc
```

> **Important:** Reload your shell profile after editing:

```sh
source ~/.zshrc
```

---

## Quick Start

### Select a Cluster

```sh
ankra select <cluster-name>
```

### Deploy an Addon

```sh
ankra apply addon fluent-bit
```

### Get Help

```sh
ankra --help
```

---

## Command Reference

### Global Flags

| Flag        | Description                |
|-------------|----------------------------|
| --version   | Show CLI version           |
| --help      | Show help for any command  |

### Main Commands

#### `select`

Select an active cluster for subsequent operations.

**Usage:**
```sh
ankra select <cluster-name>
```

**Options:**
- `--help` – Show help for the select command

---

#### `apply`

Apply an addon or configuration to the selected cluster.

**Usage:**
```sh
ankra apply addon <addon-name>
```

**Options:**
- `--help` – Show help for the apply command

---

#### `delete`

Delete a cluster, addon, or resource.

**Usage:**
```sh
ankra delete <resource-type> <name>
```

**Options:**
- `--help` – Show help for the delete command

---

#### Other Commands

- `ankra list clusters` – List all clusters
- `ankra list addons` – List available addons
- `ankra status` – Show status of the current cluster

Use `--help` with any command for more details.

---

## Troubleshooting

**Common Issues:**

- **ankra: command not found**
  - Ensure `ankra` is in your `PATH`. If installed locally, add `~/bin` to your `PATH`:
    ```sh
    export PATH="$HOME/bin:$PATH"
    ```
    Add this to your shell profile for persistence.
- **Missing dependencies**
  - Ensure `curl` and `bash` are installed.
- **Environment variables not set**
  - Double-check `ANKRA_API_TOKEN` is exported and valid.

**Check Version & Verify Installation:**

```sh
ankra --version
```

---

## Support & Resources

- **Documentation:** [https://docs.ankra.io](https://docs.ankra.io)
- **Support:** [hello@ankra.io](mailto:hello@ankra.io)

For feedback, feature requests, or bug reports, please contact us!
---
title: Ankra CLI – Installation & Usage Guide
description: Comprehensive guide for installing, configuring, and using the Ankra CLI to manage clusters and addons on the Ankra platform.
---

# Ankra CLI – Installation & Usage Guide

## What is Ankra CLI?

The Ankra CLI is a secure, robust, and user-friendly command-line interface for interacting with the Ankra platform. It enables you to manage clusters, deploy addons, and automate platform operations directly from your terminal.

**Main use cases:**
- Cluster management (create, select, delete, etc.)
- Addon deployment (e.g., fluent-bit, cert-manager)
- Automation of platform operations

## Features

- Easy cluster selection and management
- Addon deployment and management
- Secure authentication via API token
- Supports both global and user-local installation
- Clear versioning and help commands

## Installation

### Global Install (requires sudo)
```sh
sudo curl -L https://cli.ankra.io/install.sh | bash
```

### User-Local Install (no sudo, adds to ~/bin)
```sh
curl -L https://cli.ankra.io/install.sh | bash -s -- --user
```

> **Note:** After installation, verify with:
> ```sh
> ankra --version
> ```

## Post-Installation Setup

Set the required environment variables:

- `ANKRA_API_TOKEN` (required)
- `ANKRA_BASE_URL` (optional, defaults to https://platform.ankra.app)

### Export for Current Session
```sh
export ANKRA_API_TOKEN=your-token-here
export ANKRA_BASE_URL=https://platform.ankra.app  # optional
```

### Add to Shell Profile (~/.zshrc or ~/.bashrc)
```sh
echo 'export ANKRA_API_TOKEN=your-token-here' >> ~/.zshrc
echo 'export ANKRA_BASE_URL=https://platform.ankra.app' >> ~/.zshrc
# or use ~/.bashrc for bash users
```

> **Tip:** Reload your shell profile after editing:
> ```sh
> source ~/.zshrc
> # or
> source ~/.bashrc
> ```

## Quick Start

### Select a Cluster
```sh
ankra select my-cluster
```

### Deploy an Addon
```sh
ankra apply addon fluent-bit
```

### Get Help
```sh
ankra --help
```

## Command Reference

### Global Flags
| Flag         | Description                  |
|--------------|-----------------------------|
| `--version`  | Show CLI version            |
| `--help`     | Show help for any command   |

### Main Commands

#### select
- **Description:** Select a cluster to operate on.
- **Usage:**
  ```sh
  ankra select <cluster-name>
  ```
- **Flags:**
  | Flag         | Description                  |
  |--------------|-----------------------------|
  | `--help`     | Show help for select command |

#### apply
- **Description:** Apply an addon or manifest to the selected cluster.
- **Usage:**
  ```sh
  ankra apply addon <addon-name>
  ankra apply manifest <manifest-file.yaml>
  ```
- **Flags:**
  | Flag         | Description                  |
  |--------------|-----------------------------|
  | `--help`     | Show help for apply command  |

#### delete
- **Description:** Delete a cluster, addon, or manifest.
- **Usage:**
  ```sh
  ankra delete cluster <cluster-name>
  ankra delete addon <addon-name>
  ankra delete manifest <manifest-name>
  ```
- **Flags:**
  | Flag         | Description                  |
  |--------------|-----------------------------|
  | `--help`     | Show help for delete command |

> **Note:** Use `ankra <command> --help` for detailed options on any command.

## Troubleshooting

- **PATH issues:** Ensure `ankra` is in your PATH. If not, add `~/bin` or the install location to your PATH.
- **Missing dependencies:** The CLI requires `curl` and `bash` for installation.
- **Check version:**
  ```sh
  ankra --version
  ```
- **Verify installation:**
  ```sh
  which ankra
  ankra --help
  ```

## Support & Resources

- **Documentation:** [https://docs.ankra.io](https://docs.ankra.io)
- **Support:** [hello@ankra.io](mailto:hello@ankra.io)

> For more advanced usage, see the full documentation or contact support.
