---
title: Clone a Cluster
description: Duplicate cluster configurations using the Ankra CLI.
---

<Note>
Clone stack configurations from existing clusters or remote repositories. Perfect for replicating production setups to staging or dev environments.
</Note>

---

## Prerequisites

- [Ankra CLI](/integrations/ankra-cli) installed and configured
- A cluster configuration file (YAML)

---

## Clone from a Local File

Copy stacks from an existing cluster configuration:

```bash
ankra clone existing-cluster.yaml new-cluster.yaml
```

---

## Clone from GitHub

Pull configurations directly from a repository:

```bash
ankra clone https://github.com/user/repo/raw/main/cluster.yaml my-cluster.yaml
```

---

## Clone Options

| Flag | Description |
|------|-------------|
| `--clean` | Replace all stacks in target (clean copy) |
| `--force` | Override conflicts during merge |
| `--copy-missing` | Copy missing files even from skipped stacks |

**Examples:**

```bash
# Clean copy - replace all stacks in target
ankra clone source.yaml target.yaml --clean

# Force merge - override conflicts
ankra clone source.yaml target.yaml --force

# Complete replacement with all files
ankra clone source.yaml target.yaml --clean --force --copy-missing
```

---

## Example Workflow

<Steps>
  <Step title="Clone from GitHub">
    ```bash
    ankra clone https://github.com/ankraio/ankra-gitops-examples/raw/main/clusters/monitoring-stack/cluster.yaml ./my-cluster.yaml
    ```
  </Step>
  <Step title="Apply the Configuration">
    ```bash
    ankra apply -f my-cluster.yaml
    ```
  </Step>
  <Step title="Customize Values">
    Edit the YAML file or use the UI to adjust values for your environment (resource limits, domains, replicas).
  </Step>
</Steps>

---

## Clone via UI

You can also clone stacks directly in the Ankra UI:

1. Navigate to **Stacks** in your cluster
2. Click the menu on any stack
3. Select **Clone**
4. Edit the cloned stack as needed

---

## Next Steps

<CardGroup cols={2}>
  <Card title="Ankra CLI Reference" icon="terminal" href="/integrations/ankra-cli">
    Full CLI command reference.
  </Card>
  <Card title="GitOps Examples" icon="github" href="https://github.com/ankraio/ankra-gitops-examples">
    Example cluster configurations to clone.
  </Card>
</CardGroup>
